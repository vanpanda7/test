// ============================================
// 主样式文件
// ============================================
// 用途：项目主样式入口文件
// 导入顺序：Bootstrap → 变量 → 基础样式 → 断点样式

@use "sass:math";

// 第一步：导入 Bootstrap 自定义配置（包含完整的 Bootstrap）
@import "bootstrap-custom";

// 第二步：导入全局变量
@import "variables";

// 第三步：基础样式（所有断点通用）

// ============================================
// 自定义样式
// ============================================

// ============================================
// 基础样式重置
// ============================================
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: $font-family-base;
  color: $text-color;
  background-color: $bg-color;
  overflow-x: hidden;
  line-height: 1.6;
  width: 100%;
  max-width: 393px;
  margin: 0 auto;
  position: relative;
}

img {
  max-width: 100%;
  height: auto;
  display: block;
}

a {
  text-decoration: none;
  color: inherit;
}

button {
  border: none;
  background: none;
  cursor: pointer;
  font-family: inherit;
}

ul {
  list-style: none;
}

// ============================================
// 导航栏全宽布局适配
// ============================================
// 用途：让导航栏内的 full-width-section 正确显示
// 修改位置：第 28-37 行
// HTML 使用：<nav class="navbar"><div class="full-width-section">...</div></nav>
.navbar {
  .full-width-section {
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 100%;
    flex-wrap: wrap;
  }
}

// ============================================
// 自定义按钮样式
// ============================================
// 用途：自定义按钮样式，带悬停动画效果
// 修改位置：第 39-49 行
// HTML 使用：<button class="btn btn-custom btn-primary">按钮</button>
// 功能：自定义内边距、圆角，悬停时上浮并显示阴影
.btn-custom {
  padding: 0.5rem 1.5rem;
  border-radius: 0.5rem;
  transition: all 0.3s ease;

  &:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  }
}

// ============================================
// 自定义网格系统 - 为不同断点设置不同的列数
// ============================================
// 用途：创建自定义网格系统，每个断点可以使用不同的总列数
// 修改位置：第 56-64 行（配置），第 66-103 行（实现）
// 详细文档：参考 CUSTOM_STYLES_REFERENCE.md 和 GRID_SYSTEM_GUIDE.md

// 定义不同断点的网格列数
// 修改此配置后需要重新编译 SCSS
$grid-columns-config: (
  xs: 4,   // 0px+ 使用 4 列
  sm: 4,   // 393px+ 使用 6 列
  md: 12,   // 768px+ 使用 8 列
  lg: 12,  // 1024px+ 使用 10 列
  xl: 12,  // 1440px+ 使用 12 列
  xxl: 12, // 1920px+ 使用 12 列
  xxxl: 12 // 2560px+ 使用 12 列
);

// 自定义网格容器
// HTML 使用：<div class="custom-grid">...</div>
// 功能：创建 flexbox 网格容器，负边距用于抵消列的 padding
.custom-grid {
  display: flex;
  flex-wrap: wrap;
  // margin-left: math.div(-$grid-gutter-width, 2);
  // margin-right: math.div(-$grid-gutter-width, 2);
}

// 自定义网格列（基础类）
// HTML 使用：<div class="custom-col custom-col-2">...</div>
// 注意：必须与列数类（custom-col-*）一起使用
.custom-col {
  position: relative;
  width: 100%;
  // padding-left: math.div($grid-gutter-width, 2);
  // padding-right: math.div($grid-gutter-width, 2);
}

// 为每个断点生成不同列数的网格类
@each $breakpoint, $columns in $grid-columns-config {
  @if $breakpoint == xs {
    // 基础样式（xs，无媒体查询）
    @for $i from 1 through $columns {
      .custom-col-#{$i} {
        flex: 0 0 auto;
        width: math.percentage(math.div($i, $columns));
      }
    }
  } @else {
    // 其他断点使用媒体查询
    @include media-breakpoint-up($breakpoint) {
      @for $i from 1 through $columns {
        .custom-col-#{$breakpoint}-#{$i} {
          flex: 0 0 auto;
          width: math.percentage(math.div($i, $columns));
        }
      }
    }
  }
}

// ============================================
// 使用示例说明
// ============================================
// HTML 使用示例：
// 
// <div class="custom-grid">
//   <div class="custom-col-2 custom-col-sm-3 custom-col-md-4 custom-col-lg-5 custom-col-xl-6">
//     内容 1
//   </div>
//   <div class="custom-col-2 custom-col-sm-3 custom-col-md-4 custom-col-lg-5 custom-col-xl-6">
//     内容 2
//   </div>
// </div>
//
// 说明：
// - xs (0px+): 每列占 2/4 = 50% (2列布局)
// - sm (393px+): 每列占 3/6 = 50% (2列布局)
// - md (768px+): 每列占 4/8 = 50% (2列布局)
// - lg (1024px+): 每列占 5/10 = 50% (2列布局)
// - xl (1440px+): 每列占 6/12 = 50% (2列布局)

// ============================================
// 全宽响应式布局（不使用容器）
// ============================================
// 用途：创建全宽布局，不使用 Bootstrap 容器
// 详细文档：参考 CUSTOM_STYLES_REFERENCE.md 和 RESPONSIVE_LAYOUT_GUIDE.md

// ============================================
// .full-width-section - 全宽区域（推荐使用）
// ============================================
// 用途：占满整个页面宽度，响应式内边距
// 修改位置：第 131-157 行
// HTML 使用：<section class="full-width-section">...</section>
// 适用场景：Hero Section、主要内容区域、页脚、导航栏内容
// 内边距：xs(1rem) → sm(2rem) → md(3rem) → lg(4rem) → xl(5rem)
.full-width-section {
  width: 100%;
  padding-left: 1rem;
  padding-right: 1rem;
  box-sizing: border-box;

  // 使用媒体查询根据断点调整内边距
  @include media-breakpoint-up(sm) {
    padding-left: 2rem;
    padding-right: 2rem;
  }

  @include media-breakpoint-up(md) {
    padding-left: 3rem;
    padding-right: 3rem;
  }

  @include media-breakpoint-up(lg) {
    padding-left: 4rem;
    padding-right: 4rem;
  }

  @include media-breakpoint-up(xl) {
    padding-left: 5rem;
    padding-right: 5rem;
  }
}

// ============================================
// .viewport-width-section - 视口单位布局
// ============================================
// 用途：使用视口单位（vw）的响应式布局
// 修改位置：第 159-174 行
// HTML 使用：<section class="viewport-width-section">...</section>
// 适用场景：需要精确控制视口比例的场景、全屏背景区域
// 注意：100vw 可能包含滚动条宽度，在某些情况下需要处理
.viewport-width-section {
  width: 100vw;
  padding-left: 4vw;
  padding-right: 4vw;

  @include media-breakpoint-up(md) {
    padding-left: 5vw;
    padding-right: 5vw;
  }

  @include media-breakpoint-up(lg) {
    padding-left: 6vw;
    padding-right: 6vw;
  }
}

// ============================================
// .percentage-width-section - 百分比布局
// ============================================
// 用途：使用百分比内边距的响应式布局
// 修改位置：第 176-191 行
// HTML 使用：<section class="percentage-width-section">...</section>
// 适用场景：需要保持固定比例边距的场景
.percentage-width-section {
  width: 100%;
  padding-left: 5%;
  padding-right: 5%;

  @include media-breakpoint-up(md) {
    padding-left: 8%;
    padding-right: 8%;
  }

  @include media-breakpoint-up(lg) {
    padding-left: 10%;
    padding-right: 10%;
  }
}

// ============================================
// .full-width-grid - 全宽网格容器
// ============================================
// 用途：全宽 flexbox 网格容器，响应式间距
// 修改位置：第 193-212 行
// HTML 使用：<div class="full-width-grid">...</div>
// 适用场景：产品卡片网格、图片画廊、内容卡片布局
// 通常与 custom-col 类配合使用
// 间距：xs(1rem) → sm(1.5rem) → md(2rem) → lg(2.5rem)
.full-width-grid {
  width: 100%;
  display: flex;
  flex-wrap: wrap;
  gap: 1rem;
  box-sizing: border-box;

  @include media-breakpoint-up(sm) {
    gap: 1.5rem;
  }

  @include media-breakpoint-up(md) {
    gap: 2rem;
  }

  @include media-breakpoint-up(lg) {
    gap: 2.5rem;
  }
}

// ============================================
// 第四步：导入断点样式
// ============================================
// 用途：按断点组织的响应式样式
// 修改位置：在 breakpoints/ 目录下的对应文件中修改
// 文件结构：
//   - breakpoints/_xs.scss   (0px+)
//   - breakpoints/_sm.scss   (393px+)
//   - breakpoints/_md.scss   (768px+)
//   - breakpoints/_lg.scss   (1024px+)
//   - breakpoints/_xl.scss   (1440px+)
//   - breakpoints/_xxl.scss  (1920px+)
//   - breakpoints/_xxxl.scss (2560px+)
@import "breakpoints/index";

